DocumentsTask
=============

Задание получения списка документов, находящихся в ящике организации


.. rubric:: Свойства

:FromSendDate:
  **Дата и время, чтение/запись** - начальная дата интервала отправки/получения документа

:ToSendDate:
  **Дата и время, чтение/запись** - конечная дата интервала отправки/получения документа

:FromDocumentDate:
  **Дата и время, чтение/запись** - дата документа, начальная дата интервала

:ToDocumentDate:
  **Дата и время, чтение/запись** - дата документа, конечная дата интервала

:Category:
  **Строка, чтение/запись** - |DocumentTask-Category|_

:CounteragentId:
  **Строка, чтение/запись** - идентификатор контрагента, с которым шёл документооборот

:DepartmentId:
  **Строка, чтение/запись** - идентификатор подразделения организации, из которого производится выборка документов

:FromDepartmentId:
  **Строка, чтение/запись** - идентификатор подразделения организации, из которого отправлен внутренний документ

:ToDepartmentId:
  **Строка, чтение/запись** - идентификатор подразделения организации, в которое отправлен внутренний документ

:RequireOneSDocumentId:
  **Булево, чтение/запись** - При получении документов будут также загружены дополнительные идентификаторы учётной системы. Значение ``TRUE`` замедляет получение документов

:ExcludeSubdepartments:
  **Булево, чтение/запись** - признак того, что поиск осуществляется без учёта дочерних подразделений

:Top100:
  **Булево, чтение/запись** - признак того, что нужно вернуть только первые сто документов



.. rubric:: Методы


+------------------------------+-----------------------------------+
| |DocumentTask-GetDocuments|_ | |DocumentTask-GetDocumentsAsync|_ |
+------------------------------+-----------------------------------+

.. |DocumentTask-GetDocuments| replace:: GetDocuments()
.. |DocumentTask-GetDocumentsAsync| replace:: GetDocumentsAsync()



.. _DocumentTask-GetDocuments:
.. method:: DocumentTask.GetDocuments()

  Возвращает :doc:`коллекцию <Collection>` :doc:`документов <Document>` удовлетворяющих заданному фильтру


.. _DocumentTask-GetDocumentsAsync:
.. method:: DocumentTask.GetDocumentsAsync()

  Асинхронно получает список документов, удовлетворяющих фиьлтру. Возвращает :doc:`AsyncResult` с результатом в виде :doc:`коллекции <Collection>` :doc:`документов <Document>`


.. rubric:: Дополнительная информация

Использовать параметры *FromSendDate*/*ToSendDate* и *FromDocumentDate*/*ToDocumentDate* одновременно нельзя



.. |DocumentTask-Category| replace:: категория документов

.. _DocumentTask-Category:
.. rubric:: Правила формирования *Category*

Параметр *Category* имеет вид <|DocumentTask-DocumentType|_>.<|DocumentTask-DocumentClass|_><|DocumentTask-DocumentStatus|_> (без угловых скобок)

.. |DocumentTask-DocumentType| replace:: Тип
.. |DocumentTask-DocumentClass| replace:: Класс
.. |DocumentTask-DocumentStatus| replace:: Статус

.. _DocumentTask-DocumentType:

=================================== =====================================================================================================================================================================================================================================================================================================
Значение *Типа документа*           Описание
=================================== =====================================================================================================================================================================================================================================================================================================
Nonformalized                       неформализованный документ
Invoice                             счет-фактура
InvoiceRevision                     исправление счета-фактуры
InvoiceCorrection                   корректировочный счет-фактура
InvoiceCorrectionRevision           исправление корректировочного счета-фактуры
Torg12                              неформализованная накладная ТОРГ-12
XmlTorg12                           формализованная накладная ТОРГ-12
AcceptanceCertificate               неформализованный акт о выполнении работ
XmlAcceptanceCertificate            формализованный акт о выполнении работ
TrustConnectionRequest              предложение партнёрских отношений
PriceListAgreement                  протокол согласования цены
CertificateRegistry                 реестр сертификатов
ReconciliationAct                   акт сверки
Contract                            договор
ProformaInvoice                     счет на оплату
ServiceDetails                      детализация
UniversalTransferDocument           УПД
UniversalTransferDocumentRevision   исправление УПД
UniversalCorrectionDocument         УКД
UniversalCorrectionDocumentRevision исправление УКД
AnyInvoiceDocumentType              соответствует набору из четырех типов документов: ``Invoice``, ``InvoiceRevision``, ``InvoiceCorrection``, ``InvoiceCorrectionRevision``
AnyBilateralDocumentType            соответствует любому типу двусторонних документов: ``Nonformalized``, ``Torg12``, ``AcceptanceCertificate``, ``XmlTorg12``, ``XmlAcceptanceCertificate``, ``TrustConnectionRequest``, ``PriceList``, ``PriceListAgreement``, ``CertificateRegistry``, ``ReconciliationAct``, ``Contract``, ``Torg13``
AnyUnilateralDocumentType           соответствует любому типу односторонних документов: ``ProformaInvoice``, ``ServiceDetails``
Any                                 соответствует любому типу документа
=================================== =====================================================================================================================================================================================================================================================================================================


.. _DocumentTask-DocumentClass:

=========================== ====================================================
Значение *Класса документа* Описание
=========================== ====================================================
Inbound                     входящий документ
Outbound                    исходящий документ
Internal                    внутренний документ
Proxy                       документ, переданный через промежуточного получателя
=========================== ====================================================


.. _DocumentTask-DocumentStatus:

================================= ====================================================================================================
Значение *Статуса документа*      Описание
================================= ====================================================================================================
..                                Любой статус
NotRead                           документ не прочитан
NoRecipientSignatureRequest       документ без запроса ответной подписи
WaitingForRecipientSignature      документ в ожидании ответной подписи
WithRecipientSignature            документ с ответной подписью
WithSenderSignature               документ с подписью отправителя
RecipientSignatureRequestRejected документ с отказом от формирования ответной подписи
WaitingForSenderSignature         документ, требующий подписания и отправки
InvalidSenderSignature            документ с невалидной подписью отправителя, требующий повторного подписания и отправки
InvalidRecipientSignature         документ с невалидной подписью получателя, требующий повторного подписания и отправки
Approved                          согласованный документ
Disapproved                       документ с отказом согласования
WaitingForResolution              документ, находящийся на согласовании или подписи
SignatureRequestRejected          документ с отказом в запросе подписи сотруднику
Finished                          документ с завершенным документооборотом
HaveToCreateReceipt               требуется подписать извещение о получении
NotFinished                       документ с незавершенным документооборотом
InvoiceAmendmentRequested         имеет смысл только для счетов-фактур; документ, по которому было запрошено уточнение
RevocationIsRequestedByMe         документ, по которому было запрошено аннулирование
RequestsMyRevocation              документ, по которому контрагент запросил аннулирование
RevocationAccepted                аннулированный документ
RevocationRejected                документ, запрос на аннулирование которого был отклонен
RevocationApproved                документ, запрос на аннулирование которого был согласован
RevocationDisapproved             документ с отказом согласования запроса на аннулирование
WaitingForRevocationApprovement   документ, находящийся на согласовании запроса аннулирования
NotRevoked                        неаннулированный документ
WaitingForProxySignature          документ в ожидании подписи промежуточного получателя
WithProxySignature                документ с подписью промежуточного получателя
InvalidProxySignature             документ с невалидной подписью промежуточного получателя, требующий повторного подписания и отправки
ProxySignatureRejected            документ с отказом от формирования подписи промежуточным получателем
WaitingForInvoiceReceipt          документ в ожидании получения извещения о получении счета-фактуры
WaitingForReceipt                 документ в ожидании получения извещения о получении
RequestsMySignature               документ, по которому контрагент запросил подпись
RoamingNotificationError          документ, с ошибкой доставки в роуминге
================================= ====================================================================================================
